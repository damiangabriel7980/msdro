<div ng-controller="CompleteProfile">
    <div class="modal-header">
        <div class="noPatientsLogo"><img ng-src="{{pathAmazonResources+'rsz_msd_be_well_green_gray.png'}}" ng-click="renderView('login')"></div>
        <div class="modal-title"><h3><span class="fa fa-sign-in"></span>&nbsp;Completare profil</h3></div>
    </div>
    <div class="modal-body col-md-12" style="padding: 10px 0 0 0">

        <div class="col-md-12">
            <alert ng-if="alert.show" type="{{alert.type}}" close="alert.show=false">{{alert.text}}</alert>
        </div>

        <div class="col-md-12 noPadding" ng-init="proofType='file'">
            <div class="form-group col-md-6">
                <label for="profession">Profesie<sup>*</sup>:</label>
                <select ng-model="user.profession" class="form-control" ng-change="selectProfession()"
                        ng-options="profession._id as profession.display_name for profession in professions" id="profession"></select>
            </div>
            <div class="form-group col-md-3">
                <input type="radio" ng-model="proofType" value="file"><label>&nbsp;Dovada:</label>
                <button class="btn btn-default form-control" type="file" ng-file-select ng-file-change="proofSelected($files, $event)" id="proof"
                        multiple="false" ng-disabled="proofType!='file'" popover="{{codeTooltip}}" popover-trigger="mouseenter" popover-placement="bottom">
                    <i class="glyphicon glyphicon-file"></i>&nbsp;Incarca dovada
                </button>
            </div>
            <div class="form-group col-md-3">
                <input type="radio" ng-model="proofType" value="code"><label>&nbsp;Cod de activare:</label>
                <input id="code" type="text" ng-model="activationCode" class="form-control" aria-describedby="codeAddon" ng-disabled="proofType!='code'">
            </div>
            <div class="form-group col-md-6">
                <label for="group">Grup preferat<sup>*</sup>:</label>
                <select ng-model="user.groupsID" class="form-control"
                        ng-options="group._id as group.display_name for group in groups" id="group"></select>
            </div>
            <div class="form-group col-md-6">
                <label>Tip de practica:</label>
                <select ng-model="user.practiceType" class="form-control" ng-options="practice.number as practice.name for practice in practices"></select>
            </div>
            <div class="form-group col-md-12">
                <label>Adresa<sup>*</sup>:</label>
                <input type="text" class="form-control" ng-model="user.address">
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Judet<sup>*</sup>: </label>
                    <ui-select ng-model="county.selected" name="judet" theme="select2" ng-disabled="false" style="width: 100%;" id="county">
                        <ui-select-match placeholder="Selecteaza un judet">{{$select.selected.name}}</ui-select-match>
                        <ui-select-choices repeat="county in counties | propsFilter: {name: $select.search}">
                            <div ng-bind-html="trustAsHtml((county.name | highlight: $select.search))"></div>
                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Oras<sup>*</sup>: </label>
                    <ui-select ng-model="city.selected" name="oras" theme="select2" ng-disabled="false" style="width: 100%;" id="city">
                        <ui-select-match placeholder="Selecteaza un oras">{{$select.selected.name}}</ui-select-match>
                        <ui-select-choices repeat="city in cities | propsFilter: {name: $select.search}">
                            <div ng-bind-html="trustAsHtml((city.name | highlight: $select.search))"></div>
                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>
            <div class="form-group col-md-6">
                <label>Telefon:</label>
                <input type="text" class="form-control" ng-model="user.phone">
            </div>
            <div class="form-group col-md-6">
                <label>Sursa de informare:</label>
                <select ng-model="infoSource" class="form-control"></select>
            </div>
            <div class="form-group col-md-6">
                <input type="checkbox" ng-model="termsStaywell">
                <span>Accept termenii si conditiile Staywell</span>
            </div>
            <div class="form-group col-md-6">
                <input type="checkbox" ng-model="termsMSD">
                <span>Accept politica MSD privind datele profesionale</span>
            </div>
            <div class="form-group col-md-6">
                <input type="checkbox" ng-model="user.subscriptions.newsletterStaywell">
                <span>Sunt de acord sa primesc newsletter Staywell</span>
            </div>
            <div class="form-group col-md-6">
                <input type="checkbox" ng-model="user.subscriptions.infoMSD">
                <span>Sunt de acord sa primesc informatii de la MSD</span>
            </div>
        </div>
    </div>
    <div class="modal-footer" style="padding: 15px">
        <a class="btn btn-default pull-left" ng-click="closeModal()">Inchide</a>
        <button class="btn btn-primary pull-right" ng-click="sendActivationForm()">Trimite</button>
    </div>
</div>